{"version":3,"file":"js/app.cfe44252.js","mappings":"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","sources":["webpack://kneader-ui/./src/App.vue","webpack://kneader-ui/./src/App.vue?7ccd","webpack://kneader-ui/./src/views/Dashboard.vue","webpack://kneader-ui/./src/api.js","webpack://kneader-ui/./src/views/Dashboard.vue?040e","webpack://kneader-ui/./src/router/index.js","webpack://kneader-ui/./src/main.js","webpack://kneader-ui/webpack/bootstrap","webpack://kneader-ui/webpack/runtime/chunk loaded","webpack://kneader-ui/webpack/runtime/define property getters","webpack://kneader-ui/webpack/runtime/global","webpack://kneader-ui/webpack/runtime/hasOwnProperty shorthand","webpack://kneader-ui/webpack/runtime/make namespace object","webpack://kneader-ui/webpack/runtime/publicPath","webpack://kneader-ui/webpack/runtime/jsonp chunk loading","webpack://kneader-ui/webpack/startup"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <header class=\"app-header\">\r\n      <div class=\"header-content\">\r\n        <img src=\"@/assests/SPP_logo_website.png\" alt=\"SPP Logo\" class=\"company-logo\" />\r\n        <h1 class=\"app-title\">Kneader Controller System</h1>\r\n      </div>\r\n    </header>\r\n\r\n    <main>\r\n      <router-view />\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App'\r\n}\r\n</script>\r\n\r\n<style>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  font-family: 'Arial', sans-serif;\r\n  background-color: #f5f5f5;\r\n  color: #333;\r\n}\r\n\r\n.app-header {\r\n  background-color: #2c3e50;\r\n  color: white;\r\n  padding: 1rem 2rem;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  position: relative;\r\n}\r\n\r\n.header-content {\r\n  display: flex;\r\n  align-items: center;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n}\r\n\r\n.company-logo {\r\n  height: 60px; /* Increased size */\r\n  width: auto;\r\n  /* Logo will naturally align to the left in flex container */\r\n}\r\n\r\n.app-title {\r\n  font-size: 1.8rem;\r\n  font-weight: bold;\r\n  position: absolute; /* Position absolutely to center it */\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  margin: 0;\r\n}\r\n\r\nmain {\r\n  padding: 1rem;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n</style>","import { render } from \"./App.vue?vue&type=template&id=20d6e872\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=20d6e872&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"dashboard\">\r\n  \r\n<!-- ============ LOGIN SCREEN ============ -->\r\n<div\r\n  v-if=\"!token\"\r\n  class=\"login-container\"\r\n>\r\n  <div class=\"login-card\">\r\n    <!-- Simple Header -->\r\n    <div class=\"login-header\">\r\n      \r\n      <h1 class=\"login-subtitle\">Login to start the process</h1>\r\n    </div>\r\n\r\n    <!-- Login Form -->\r\n    <div class=\"login-form\">\r\n      <!-- Username Field -->\r\n      <div class=\"input-group\">\r\n        <label for=\"username\" class=\"input-label\">\r\n          Username\r\n        </label>\r\n        <input\r\n          id=\"username\"\r\n          v-model=\"username\"\r\n          type=\"text\"\r\n          placeholder=\"Enter your username\"\r\n          class=\"form-input\"\r\n          @keyup.enter=\"login\"\r\n        />\r\n      </div>\r\n\r\n      <!-- Password Field with Toggle -->\r\n      <div class=\"input-group\">\r\n        <label for=\"password\" class=\"input-label\">\r\n          Password\r\n        </label>\r\n        <div class=\"password-input-container\">\r\n          <input\r\n            id=\"password\"\r\n            v-model=\"password\"\r\n            :type=\"showPassword ? 'text' : 'password'\"\r\n            placeholder=\"Enter your password\"\r\n            class=\"form-input password-input\"\r\n            @keyup.enter=\"login\"\r\n          />\r\n          <button \r\n            type=\"button\" \r\n            class=\"password-toggle\"\r\n            @click=\"showPassword = !showPassword\"\r\n          >\r\n            <span v-if=\"showPassword\" class=\"toggle-text\">Hide</span>\r\n            <span v-else class=\"toggle-text\">Show</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Login Button -->\r\n      <div class=\"button-container\">\r\n        <button\r\n          @click=\"login\"\r\n          class=\"login-button\"\r\n          :class=\"{ 'login-button-disabled': !username || !password }\"\r\n          :disabled=\"!username || !password\"\r\n        >\r\n          Login\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Error Message -->\r\n      <div v-if=\"error\" class=\"error-message\">\r\n        <p class=\"error-text\">{{ error }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n    <!-- FIRST SCREEN: select batch type -->\r\n     <div v-else>\r\n  <div class=\"batch-panel\" v-if=\"!batchType && status.process_state === 'IDLE'\">\r\n    <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;\">\r\n      <h2 style=\"margin: 0;\">Select Batch Type</h2>\r\n      <button @click=\"logout\" class=\"btn btn-warning\">Logout</button>\r\n    </div>\r\n      <div style=\"display:flex; gap:20px; justify-content:center; margin-top:1rem;\">\r\n        <div class=\"batch-option\" @click=\"selectBatchType('master')\">\r\n          MASTER BATCH\r\n        </div>\r\n        <div class=\"batch-option\" @click=\"selectBatchType('compound')\">\r\n          COMPOUND BATCH\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- SECOND SCREEN: enter batch number -->\r\n<div class=\"batch-panel\" v-else-if=\"showBatchSelection\">\r\n  <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;\">\r\n    <h2 style=\"margin: 0;\">Enter Batch Number for {{ batchType }}</h2>\r\n    <button \r\n       @click=\"showCancelConfirmation = true\"  \r\n      class=\"btn btn-warning\" \r\n      style=\"padding: 0.5rem 1rem;\"\r\n    >\r\n      Cancel\r\n    </button>\r\n  </div>\r\n  \r\n  <div class=\"batch-input\" style=\"display:flex; gap:8px; align-items:center;\">\r\n    <input\r\n      type=\"text\"\r\n      v-model=\"enteredBatchNumber\"\r\n      placeholder=\"Type batch number and press Enter or Load\"\r\n      @keyup.enter=\"loadBatchByNumber\"\r\n      ref=\"batchInput\"\r\n      style=\"flex:1; padding:0.6rem; font-size:1rem;\"\r\n    />\r\n    <button @click=\"loadBatchByNumber\" class=\"btn\">Load</button>\r\n  </div>\r\n</div>\r\n<!-- Cancel Confirmation Dialog for Batch Selection -->\r\n<div class=\"confirmation-dialog\" v-if=\"showCancelConfirmation\">\r\n  <div class=\"dialog-content\">\r\n    <h3>Confirm Cancel</h3>\r\n    <p>Are you sure you want to cancel batch selection?</p>\r\n    <div style=\"display:flex; gap:10px; justify-content:center; margin-top:1rem;\">\r\n      <button @click=\"confirmCancelBatchSelection\" class=\"btn btn-warning\">Yes, Cancel</button>\r\n      <button @click=\"cancelCancelBatchSelection\" class=\"btn btn-primary\">No, Continue</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n    \r\n\r\n    <!-- PRESCANNING PANEL -->\r\n    <div class=\"prescan-panel\" v-if=\"workorder && workorder.steps\">\r\n      <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;\">\r\n  <h2 style=\"margin: 0;\">{{ selectedBatch ? selectedBatch.name : workorder.name }}</h2>\r\n  <button \r\n    v-if=\"showCancelButton\" \r\n    @click=\"showCancelProcessConfirmation = true\" \r\n    class=\"btn btn-warning\" \r\n    :disabled=\"isCancelDisabled\"\r\n    style=\"padding: 0.5rem 1rem;\"\r\n  >\r\n    Cancel\r\n  </button>\r\n</div>\r\n\r\n<!-- Cancel Confirmation Dialog for Process -->\r\n<div class=\"confirmation-dialog\" v-if=\"showCancelProcessConfirmation\">\r\n  <div class=\"dialog-content\">\r\n    <h3>Confirm Cancel</h3>\r\n    <p>Are you sure you want to cancel the process?</p>\r\n    <div style=\"display:flex; gap:10px; justify-content:center; margin-top:1rem;\">\r\n      <button @click=\"confirmCancelProcess\" class=\"btn btn-warning\">Yes, Cancel</button>\r\n      <button @click=\"cancelCancelProcess\" class=\"btn btn-primary\">No, Continue</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n      <!-- Status line -->\r\n      <div class=\"status-line\">\r\n        {{ getStatusMessage() }}\r\n      </div>\r\n       \r\n      <!-- Excel-style prescan table -->\r\n      <table class=\"prescan-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Stage No.</th>\r\n            <th>Item</th>\r\n            <th>Mixing Time</th>\r\n            <th>Prescan</th>\r\n            <th>Live Status</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n  <template v-for=\"(step, stepIndex) in status.steps\" :key=\"step.step_id || stepIndex\">\r\n    <tr :class=\"{ 'blinking-highlight': isNextStep(stepIndex) }\">\r\n      <td :rowspan=\"step.items.length\">{{ stepIndex + 1 }}</td>\r\n      <td>{{ step.items[0].item_id }}</td>\r\n\r\n      <td :rowspan=\"step.items.length\">\r\n        <span v-if=\"status.current_step_index === stepIndex &&\r\n                      (status.process_state === 'MIXING' || status.process_state === 'ABORTED')\">\r\n          {{ status.mixing_time_remaining }}s\r\n        </span>\r\n        <span v-else>\r\n          {{ formatMixTime(step.mix_time_sec) }}\r\n        </span>\r\n      </td>\r\n\r\n      <td>\r\n        <span v-if=\"getItemStatus(step.items[0].item_id).toUpperCase() === 'SCANNED'\" style=\"color: green;\">\r\n          SCANNED\r\n        </span>\r\n        <span v-else-if=\"getItemStatus(step.items[0].item_id).toUpperCase() === 'PENDING'\" >\r\n          PENDING\r\n        </span>\r\n        <span v-else-if=\"getItemStatus(step.items[0].item_id).toUpperCase() === 'DONE'\" \r\n        :style=\"{ color: status.process_state === 'PRESCANNING' ? 'green' : 'gray', fontWeight: 'bold' }\">\r\n    DONE\r\n  </span>\r\n        <span v-else>\r\n          {{ getItemStatus(step.items[0].item_id).toUpperCase() }}\r\n        </span>\r\n      </td>\r\n\r\n      <td>\r\n        <span v-if=\"stepIndex === status.current_step_index + 1 && step.items[0].live_status === 'SCANNED'\" style=\"color: orange; font-weight: bold;\">\r\n          SCANNED\r\n        </span>\r\n        <span v-else-if=\"step.items[0].live_status === 'READY_TO_LOAD'\" style=\"color: blue; \">\r\n          READY TO LOAD\r\n        </span>\r\n        <span v-else-if=\"step.items[0].live_status === 'SCANNED'\" style=\"color: orange; font-weight: bold;\">\r\n          SCANNED\r\n        </span>\r\n        <span v-else-if=\"step.items[0].live_status === 'MIXING'\" style=\"color: green; font-weight: bold;\">\r\n          MIXING\r\n        </span>\r\n        <span v-else-if=\"step.items[0].live_status === 'ABORTED'\" style=\"color: red; font-weight: bold;\">\r\n          ABORTED\r\n        </span>\r\n        <span v-else-if=\"step.items[0].live_status === 'DONE'\" style=\"color: gray; font-weight: bold;\">\r\n          DONE\r\n        </span>\r\n        <span v-else>\r\n          {{ (step.items[0].live_status || 'WAITING').toUpperCase() }}\r\n        </span>\r\n      </td>\r\n    </tr>\r\n\r\n    <tr v-for=\"item in step.items.slice(1)\" :key=\"item.item_id\" :class=\"{ 'blinking-highlight': isNextStep(stepIndex) }\">\r\n      <td>{{ item.item_id }}</td>\r\n\r\n      <td>\r\n        <span v-if=\"getItemStatus(item.item_id).toUpperCase() === 'SCANNED'\" style=\"color: green;\">\r\n          SCANNED\r\n        </span>\r\n        <span v-else-if=\"getItemStatus(item.item_id).toUpperCase() === 'PENDING'\" >\r\n          PENDING\r\n        </span>\r\n        <span v-else-if=\"getItemStatus(item.item_id).toUpperCase() === 'DONE'\" \r\n        :style=\"{ color: status.process_state === 'PRESCANNING' ? 'green' : 'gray', fontWeight: 'bold' }\">\r\n    DONE\r\n  </span>\r\n        <span v-else>\r\n          {{ getItemStatus(item.item_id).toUpperCase() }}\r\n        </span>\r\n      </td>\r\n\r\n      <td>\r\n        <span v-if=\"stepIndex === status.current_step_index + 1 && item.live_status === 'SCANNED'\" style=\"color: orange; font-weight: bold;\">\r\n          SCANNED\r\n        </span>\r\n        <span v-else-if=\"item.live_status === 'READY_TO_LOAD'\" style=\"color: blue; \">\r\n          READY TO LOAD\r\n        </span>\r\n        <span v-else-if=\"item.live_status === 'SCANNED'\" style=\"color: orange; font-weight: bold;\">\r\n          SCANNED\r\n        </span>\r\n        <span v-else-if=\"item.live_status === 'MIXING'\" style=\"color: green; font-weight: bold;\">\r\n          MIXING\r\n        </span>\r\n        <span v-else-if=\"item.live_status === 'ABORTED'\" style=\"color: red; font-weight: bold;\">\r\n              ABORTED\r\n            </span>\r\n        \r\n        <span v-else-if=\"item.live_status === 'DONE'\" style=\"color: gray; font-weight: bold;\">\r\n          DONE\r\n        </span>\r\n        <span v-else>\r\n          {{ (item.live_status || 'WAITING').toUpperCase() }}\r\n        </span>\r\n      </td>\r\n    </tr>\r\n  </template>\r\n</tbody>\r\n      </table>\r\n\r\n      <!-- Scanner Panel -->\r\n      <div class=\"scanner-panel\">\r\n        <!-- Prescan Input -->\r\n        <div v-if=\"status.process_state === 'PRESCANNING'\">\r\n          <h3>Scan Item (Prescan)</h3>\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"barcode\"\r\n            placeholder=\"Scan item barcode (prescan)\"\r\n            @keyup.enter=\"handlePrescan\"\r\n            ref=\"barcodeInput\"\r\n          />\r\n        </div>\r\n\r\n        <!-- Actual Scan Input -->\r\n        <div v-else-if=\"status.process_state === 'WAITING_FOR_ITEMS' || status.process_state === 'MIXING'\">\r\n          <h3>Scan Item (Actual)</h3>\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"barcode\"\r\n            placeholder=\"Scan item barcode (actual)\"\r\n            @keyup.enter=\"handleScan\"\r\n            ref=\"barcodeInput\"\r\n          />\r\n        </div>\r\n       \r\n\r\n\r\n\r\n       <!-- Abort / Resume / Complete Abort Buttons -->\r\n<div class=\"control-buttons\" style=\"margin-top: 1rem; text-align: center;\">\r\n  <!-- Simple Abort button that triggers confirmation -->\r\n  <button\r\n    v-if=\"['MIXING'].includes(status.process_state)\"\r\n    @click=\"abortProcess\"\r\n    class=\"btn btn-danger\"\r\n  >\r\n    Abort\r\n  </button>\r\n\r\n  <!-- After aborted: show Resume + Complete Abort -->\r\n  <div v-if=\"status.process_state === 'ABORTED'\" style=\"display:flex; gap:10px; justify-content:center;\">\r\n    <button @click=\"resumeProcess\" class=\"btn btn-success\">\r\n      Resume\r\n    </button>\r\n    <button @click=\"completeAbortProcess\" class=\"btn btn-warning\">\r\n      Stop the process\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n      </div>\r\n    </div>\r\n    <!-- Wrong Stage Item Dialog -->\r\n<div class=\"confirmation-dialog\" v-if=\"showWrongStagePopup\">\r\n  <div class=\"dialog-content\">\r\n    <h3>Wrong Stage Item!</h3>\r\n    <p>{{ wrongStageMessage }}</p>\r\n    <button @click=\"closeWrongStagePopup\" class=\"btn btn-primary\">OK</button>\r\n  </div>\r\n</div>\r\n <!-- Add the new Early Scanning Wrong Item Dialog -->\r\n    <div class=\"confirmation-dialog\" v-if=\"showEarlyScanningWrongItemPopup\">\r\n      <div class=\"dialog-content\">\r\n        <h3>Wrong Item for Next Stage!</h3>\r\n        <p>{{ earlyScanningWrongItemMessage }}</p>\r\n        <button @click=\"closeEarlyScanningWrongItemPopup\" class=\"btn btn-primary\">OK</button>\r\n      </div>\r\n    </div>\r\n<div class=\"confirmation-dialog\" v-if=\"showDuplicateScanPopup\">\r\n  <div class=\"dialog-content\">\r\n    <h3>Duplicate Scanning!</h3>\r\n    <p>{{ duplicateScanMessage }}</p>\r\n    <button @click=\"closeDuplicateScanPopup\" class=\"btn btn-primary\">OK</button>\r\n  </div>\r\n</div>\r\n\r\n\r\n    <!-- Confirmation Dialog -->\r\n    <div class=\"confirmation-dialog\" v-if=\"showPrescanCompletePopup\">\r\n      <div class=\"dialog-content\">\r\n        <h3>Pre-scanning Complete!</h3>\r\n        <p>All items have been scanned successfully.</p>\r\n        <button @click=\"confirmPrescan\" class=\"btn btn-primary\">OK</button>\r\n      </div>\r\n    </div>\r\n    <!-- Wrong Item Scanned Dialog -->\r\n<div class=\"confirmation-dialog\" v-if=\"showWrongItemPopup\">\r\n  <div class=\"dialog-content\">\r\n    <h3>Wrong Item Scanned!</h3>\r\n    <p>{{ wrongItemMessage }}</p>\r\n    <button @click=\"closeWrongItemPopup\" class=\"btn btn-primary\">OK</button>\r\n  </div>\r\n</div>\r\n<!-- Abort Confirmation Dialog -->\r\n<div class=\"confirmation-dialog\" v-if=\"showAbortConfirmationPopup\">\r\n  <div class=\"dialog-content\">\r\n    <h3>Confirm Abort</h3>\r\n    <p>Are you sure you want to abort the process?</p>\r\n    <div style=\"display:flex; gap:10px; justify-content:center; margin-top:1rem;\">\r\n      <button @click=\"confirmAbort\" class=\"btn btn-danger\">Yes, Abort</button>\r\n      <button @click=\"cancelAbort\" class=\"btn btn-primary\">No, Continue</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- Save Workorder Popup  -->\r\n<div class=\"confirmation-dialog\" v-if=\"showSavePopup\">\r\n  <div class=\"dialog-content\">\r\n    <h3>Save Workorder</h3>\r\n    <p>The process is complete. Would you like to save this workorder?</p>\r\n    <div style=\"display:flex; gap:10px; justify-content:center; margin-top:1rem;\">\r\n      <button @click=\"handleSaveWorkorder\" class=\"btn btn-success\">SAVE</button>\r\n      \r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n    <!-- Process Complete Dialog -->\r\n    <div class=\"completion-popup\" v-if=\"showCompletionPopup\">\r\n      <div class=\"popup-content\">\r\n        <h3>Process Complete!</h3>\r\n        <button @click=\"handleCompletionOk\" class=\"btn btn-primary\">OK</button>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n</template>\r\n<script>\r\nimport {\r\n  login,\r\n  getStatus,\r\n  scanItem,\r\n  abortProcess,\r\n  resetController,\r\n  resetProcess,\r\n  getWorkorders,\r\n  checkTransitions,\r\n  resumeProcess,\r\n  getBatches,\r\n  loadWorkorder,\r\n  confirmPrescanAPI,\r\n  confirmCompletion,\r\n  prescanItem,\r\n  saveWorkorder,\r\n  completeAbortProcess,\r\n   cancelProcess \r\n} from '@/api'\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  data() {\r\n    return {\r\n    username: \"\",\r\n      password: \"\",\r\n      showPassword: false,\r\n      token: localStorage.getItem(\"token\")||null,\r\n      showLogin: !localStorage.getItem(\"token\"),\r\n      error: \"\",\r\n      kneaderStatus: {},\r\n      showSavePopup: false,\r\n      showCancelConfirmation: false,\r\n      showCancelProcessConfirmation: false,\r\n      showEarlyScanningWrongItemPopup: false,\r\n      earlyScanningWrongItemMessage: '',\r\n      showAbortConfirmationPopup: false,\r\n      batchType: null,  // \"master\" or \"compound\"\r\n      showPrescanCompletePopup: false,\r\n      showCompletionPopup: false,\r\n      showWrongItemPopup: false,\r\n      wrongItemMessage: '',\r\n      showWrongStagePopup: false,\r\n    wrongStageMessage: '',\r\n      showConfirmPopup: false,\r\n      batches: [],\r\n      enteredBatchNumber: '',\r\n      selectedBatch: null,\r\n      workorder: null,\r\n      showBatchSelection: true,\r\n      showPrescanning: false,\r\n      prescanResults: {}, \r\n      showDuplicateScanPopup: false,\r\n      duplicateScanMessage: '',\r\n      prescanComplete: false,\r\n      actualScanning: false,\r\n      mixing: false,\r\n      mixingTimer: 0,\r\n      mixingInterval: null,\r\n      scannedItems: [],\r\n      status: {\r\n        process_state: 'IDLE',\r\n        lid_open: true,\r\n        motor_running: false,\r\n        current_step_index: -1,\r\n        current_item_index: -1,\r\n        mixing_time_remaining: 0,\r\n        error_message: '',\r\n        workorder_id: null,\r\n        total_steps: 0\r\n      },\r\n      workorders: [],\r\n      currentWorkorder: null,\r\n      barcode: '',\r\n      scanResult: null,\r\n      debugMode: false,\r\n      statusInterval: null,\r\n      transitionInterval: null,\r\n      showingCompletion: false,\r\n      autoTransitionTimeout: null\r\n    }\r\n  },\r\n  computed: {\r\n    scannedItemsCount() {\r\n      return this.scannedItems.length;\r\n    },\r\n    currentStepItems() {\r\n      if (this.status.steps && this.status.current_step_index < this.status.steps.length) {\r\n        return this.status.steps[this.status.current_step_index].items || [];\r\n      }\r\n      return [];\r\n    },\r\n   // Show cancel button only during first stage waiting/ready states and prescan\r\nshowCancelButton() {\r\n  const showStates = [\r\n    'PRESCANNING', \r\n    'PRESCAN_COMPLETE', \r\n    'IDLE'\r\n  ];\r\n  \r\n  // For WAITING_FOR_ITEMS and READY_TO_LOAD, only show during first stage (stage 1)\r\n  if (['WAITING_FOR_ITEMS', 'READY_TO_LOAD'].includes(this.status.process_state)) {\r\n    return this.status.current_step_index === 0; // Only stage 1 (index 0)\r\n  }\r\n  \r\n  return this.showBatchSelection || showStates.includes(this.status.process_state);\r\n},\r\n\r\n// Enable cancel button - only during first stage waiting/ready and prescan states\r\nisCancelDisabled() {\r\n  // Always enable during prescan states\r\n  if (['PRESCANNING', 'PRESCAN_COMPLETE', 'IDLE'].includes(this.status.process_state)) {\r\n    return false;\r\n  }\r\n  \r\n  // For WAITING_FOR_ITEMS and READY_TO_LOAD, only enable during first stage\r\n  if (['WAITING_FOR_ITEMS', 'READY_TO_LOAD'].includes(this.status.process_state)) {\r\n    // For first stage, always enable cancel (regardless of scan status)\r\n    if (this.status.current_step_index === 0) {\r\n      return false; // Always enable cancel during stage 1\r\n    }\r\n    // For other stages, disable cancel\r\n    return true;\r\n  }\r\n  \r\n  // Disable during all other processing states\r\n  const disabledStates = [\r\n    'MIXING', \r\n    'ABORTED',\r\n    'WAITING_FOR_LID_CLOSE',\r\n    'WAITING_FOR_MOTOR_START',\r\n    'PROCESS_COMPLETE'\r\n  ];\r\n  return disabledStates.includes(this.status.process_state);\r\n},\r\n    totalItemsCount() {\r\n      if (!this.workorder || !this.workorder.steps) return 0;\r\n      return this.workorder.steps.reduce((total, step) => total + (step.items ? step.items.length : 0), 0);\r\n    },\r\n    prescanProgress() {\r\n      if (this.totalItemsCount === 0) return 0;\r\n      return Math.round((this.scannedItemsCount / this.totalItemsCount) * 100);\r\n    },\r\n    canScan() {\r\n      return this.status.process_state === 'WAITING_FOR_ITEMS' || \r\n             this.status.process_state === 'PRESCANNING';\r\n    },\r\n    blinkingStageIndex() {\r\n    if (this.status.process_state === 'MIXING') {\r\n      return this.status.current_step_index + 1;\r\n    }\r\n    return -1;\r\n  }\r\n  },\r\n  async mounted() {\r\n  console.log('Mounted, checking backend state');\r\n  this.token = localStorage.getItem(\"token\");\r\n  \r\n  // Only proceed if user is logged in\r\n  if (!this.token) {\r\n    console.log(\"No token found, staying on login screen\");\r\n    //this.showLogin = true;\r\n    return;\r\n  }\r\n  \r\n  // Test the token first\r\n  try {\r\n    console.log(\"Testing token validity...\");\r\n    await getStatus();\r\n    //const testResponse = await getStatus();\r\n    console.log(\"Token is valid, proceeding...\");\r\n    //this.showLogin = false;\r\n  } catch (error) {\r\n    console.error(\"Token validation failed:\", error);\r\n    if (error.message.includes('401') || error.message.includes('Missing Authorization')) {\r\n      console.log(\"Token invalid or expired, forcing logout\");\r\n      this.logout();\r\n      return;\r\n    }\r\n  }\r\n  \r\n  // Rest of your mounted() code...\r\n  const savedType = localStorage.getItem('lastBatchType');\r\n  const savedBatch = localStorage.getItem('lastBatchNumber');\r\n  \r\n  if (savedType) {\r\n    this.batchType = savedType;\r\n  }\r\n  \r\n  if (savedBatch) {\r\n    this.enteredBatchNumber = savedBatch;\r\n  }\r\n  \r\n  try {\r\n    const statusResp = await getStatus();\r\n    this.status = statusResp;\r\n    \r\n    if (statusResp.steps?.length && !this.workorder) {\r\n      this.workorder = { \r\n        name: statusResp.workorder_name, \r\n        steps: statusResp.steps \r\n      };\r\n    }\r\n\r\n    this.batchType = statusResp.workorder_type || this.batchType;\r\n\r\n    if (statusResp.process_state === 'IDLE') {\r\n      if (this.batchType && !this.workorder) {\r\n        this.showBatchSelection = true;\r\n        this.showPrescanning = false;\r\n      } else if (this.workorder) {\r\n        this.showBatchSelection = false;\r\n        this.showPrescanning = true;\r\n      } else {\r\n        this.showBatchSelection = false;\r\n        this.showPrescanning = false;\r\n      }\r\n    } else {\r\n      this.showBatchSelection = false;\r\n      this.showPrescanning = true;\r\n    }\r\n\r\n  } catch (err) {\r\n    console.error(\"Error checking controller state:\", err);\r\n    if (err.response && (err.response.status === 401 || err.response.status === 422)) {\r\n      this.logout();\r\n      return;\r\n    }\r\n    if (this.batchType) {\r\n      this.showBatchSelection = true;\r\n      this.showPrescanning = false;\r\n    }\r\n  }\r\n\r\n  // Load data with error handling\r\n  try {\r\n    await this.loadBatches();\r\n  } catch (err) {\r\n    console.error('Failed to load batches:', err);\r\n  }\r\n  \r\n  try {\r\n    await this.loadWorkorders();\r\n  } catch (err) {\r\n    console.error('Failed to load workorders:', err);\r\n  }\r\n  \r\n  if (this.token) {\r\n    this.startPolling();\r\n  }\r\n\r\n  this.$nextTick(() => {\r\n    if (this.showBatchSelection && this.$refs.batchInput) {\r\n      this.$refs.batchInput.focus();\r\n    } else if (this.showPrescanning && this.$refs.barcodeInput) {\r\n      this.$refs.barcodeInput.focus();\r\n    }\r\n  });\r\n},\r\n  beforeUnmount() {\r\n    if (this.autoTransitionTimeout) {\r\n      clearTimeout(this.autoTransitionTimeout);\r\n    }\r\n    this.stopPolling();\r\n  },\r\n  watch: {\r\n    'status.process_state'(newState) {\r\n      if (newState === 'PROCESS_COMPLETE') {\r\n        this.showingCompletion = true;\r\n        this.scanResult = null;\r\n        this.barcode = '';\r\n        setTimeout(() => { this.showingCompletion = false; }, 5000);\r\n      } else if (newState === 'IDLE') {\r\n        this.scanResult = null;\r\n        this.barcode = '';\r\n      }\r\n    },\r\n    enteredBatchNumber(newVal) {\r\n    if (newVal.trim() !== '') {\r\n      localStorage.setItem('lastBatchNumber', newVal.trim());\r\n    }\r\n  },\r\n    prescanComplete(newVal) {\r\n      if (newVal) {\r\n        this.initiateAutoTransition();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n  async login() {\r\n  this.error = \"\";\r\n  try {\r\n    const res = await login(this.username, this.password);\r\n    console.log(\"Login response:\", res);\r\n\r\n    if (res.token) {\r\n      // Save token and switch to main app\r\n      localStorage.setItem(\"token\", res.token);\r\n      this.token = res.token;\r\n      \r\n      console.log(\"Token stored in localStorage:\", localStorage.getItem(\"token\"));\r\n      console.log(\"Token length:\", res.token.length);\r\n\r\n      // Hide login and go to batch selection\r\n      this.showBatchSelection = false;\r\n      this.batchType = null;\r\n      this.status = { process_state: \"IDLE\" };\r\n\r\n      //  START POLLING AFTER LOGIN\r\n      this.startPolling();\r\n\r\n      //  Force a status check to update the UI\r\n      try {\r\n        await this.updateStatus();\r\n      } catch (err) {\r\n        console.error(\"Initial status check failed:\", err);\r\n      }\r\n\r\n      console.log(\" Login successful  moving to batch type selection\");\r\n      console.log(\"Current state - showBatchSelection:\", this.showBatchSelection);\r\n      console.log(\"Current state - showPrescanning:\", this.showPrescanning);\r\n      console.log(\"Current state - batchType:\", this.batchType);\r\n      \r\n    } else {\r\n      this.error = \"Invalid ERPNext credentials\";\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Login error:\", err);\r\n    this.error = \"Login failed. Please check your credentials.\";\r\n  }\r\n},\r\n  logout() {\r\n  console.log(\"Logging out...\");\r\n  \r\n  // Clear all localStorage items\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem('lastBatchType');\r\n  localStorage.removeItem('lastBatchNumber');\r\n  \r\n  // Reset all component state\r\n  this.token = null;\r\n  this.username = \"\";\r\n  this.password = \"\";\r\n  this.error = \"\";\r\n  this.batchType = null;\r\n  this.enteredBatchNumber = '';\r\n  this.selectedBatch = null;\r\n  this.workorder = null;\r\n  this.showBatchSelection = false;\r\n  this.showPrescanning = false;\r\n  this.scannedItems = [];\r\n  \r\n  // Reset status\r\n  this.status = {\r\n    process_state: 'IDLE',\r\n    lid_open: true,\r\n    motor_running: false,\r\n    current_step_index: -1,\r\n    current_item_index: -1,\r\n    mixing_time_remaining: 0,\r\n    error_message: '',\r\n    workorder_id: null,\r\n    total_steps: 0\r\n  };\r\n  \r\n  //  STOP POLLING PROPERLY\r\n  this.stopPolling();\r\n  \r\n  console.log(\"Logout successful - returned to login screen\");\r\n},\r\n    // Show confirmation popup instead of direct cancellation\r\n  showCancelConfirmationPopup() {\r\n    this.showCancelConfirmation = true;\r\n  },// User confirms cancellation\r\n  confirmCancelBatchSelection() {\r\n  console.log(\"User confirmed batch selection cancellation\");\r\n  \r\n  // Reset frontend state\r\n  this.batchType = null;\r\n  this.enteredBatchNumber = '';\r\n  this.selectedBatch = null;\r\n  this.workorder = null;\r\n  this.scannedItems = [];\r\n  \r\n  // Remove localStorage\r\n  localStorage.removeItem('lastBatchType');\r\n  localStorage.removeItem('lastBatchNumber');\r\n  \r\n  // Update screen state\r\n  this.showBatchSelection = false;\r\n  this.showPrescanning = false;\r\n  this.showCancelConfirmation = false;\r\n  \r\n  console.log(\"Batch selection cancelled - back to batch type selection\");\r\n},\r\n\r\n  // User chooses to continue (No button)\r\n  cancelCancelBatchSelection() {\r\n    console.log(\"User cancelled the cancellation\");\r\n    this.showCancelConfirmation = false;\r\n    // Focus back on the input field\r\n    this.$nextTick(() => {\r\n      if (this.$refs.batchInput) this.$refs.batchInput.focus();\r\n    });\r\n  },\r\nconfirmCancelProcess() {\r\n    this.showCancelProcessConfirmation = false;\r\n    this.cancelProcess(); // Call your existing cancelProcess method\r\n  },\r\n\r\n  cancelCancelProcess() {\r\n    this.showCancelProcessConfirmation = false;\r\n    this.$nextTick(() => {\r\n      if (this.$refs.barcodeInput) this.$refs.barcodeInput.focus();\r\n    });\r\n  },\r\n    isNextStep(stepIndex) {\r\n      if (this.status.process_state !== 'MIXING') return false;\r\n      if (stepIndex !== this.status.current_step_index + 1) return false;\r\n      if (stepIndex >= this.status.steps.length) return false;\r\n      return !this.isStepFullyScanned(stepIndex);\r\n    },\r\n    isStepFullyScanned(stepIndex) {\r\n      const step = this.status.steps[stepIndex];\r\n      if (!step || !step.items) return false;\r\n      return step.items.every(item => item.live_status === 'SCANNED');\r\n    },\r\n    selectBatchType(type) {\r\n  this.batchType = type;  \r\n  localStorage.setItem('lastBatchType', type);     \r\n  this.showBatchSelection = true;\r\n  this.showPrescanning = false;\r\n  \r\n  // Focus on batch input when transitioning to batch number entry\r\n  this.$nextTick(() => {\r\n    if (this.$refs.batchInput) this.$refs.batchInput.focus();\r\n  });\r\n},\r\n\r\n    async loadBatches() {\r\n      try {\r\n        const response = await getBatches();\r\n        this.batches = response;\r\n        console.log('Loaded batches:', this.batches);\r\n      } catch (error) {\r\n        console.error('Failed to load batches:', error);\r\n      }\r\n    },\r\n    closeWrongItemPopup() {\r\n    this.showWrongItemPopup = false;\r\n    this.wrongItemMessage = '';\r\n    this.barcode = '';\r\n    this.$nextTick(() => { \r\n      if (this.$refs.barcodeInput) this.$refs.barcodeInput.focus(); \r\n    });\r\n  },\r\n  getStatusMessage() {\r\n  // Guard: if no steps yet, just return empty string\r\n  if (!this.workorder || !this.workorder.steps) {\r\n    return '';\r\n  }\r\n  const currentStage = this.status.current_step_index + 1;\r\n  const nextStage = currentStage + 1;\r\n  \r\n  switch (this.status.process_state) {\r\n    case 'READY_TO_LOAD':\r\n      return `Add Stage ${currentStage} items to the kneader`;\r\n    \r\n    case 'IDLE': return 'Prescan';\r\n    case 'PRESCANNING': return 'Prescanning in progress';\r\n    case 'PROCESS_COMPLETE': return ' Process Complete!';\r\n    \r\n    case 'WAITING_FOR_ITEMS': \r\n      // Check if current stage has items ready to load\r\n      if (this.isStepReadyToLoad(this.status.current_step_index)) {\r\n        return `Load stage - ${currentStage} items`;\r\n      }\r\n      return `Enter the item code for Stage ${currentStage}`;\r\n      \r\n    case 'MIXING':\r\n      // Check if next stage has items ready to load during mixing\r\n      if (this.isStepReadyToLoad(this.status.current_step_index + 1)) {\r\n        return `Load stage - ${nextStage} items`;\r\n      }\r\n      \r\n      if (this.workorder && this.status.current_step_index < this.workorder.steps.length - 1) {\r\n        return `Mixing Stage ${currentStage}, scan Stage ${nextStage} items`;\r\n      } else {\r\n        return `Mixing Stage ${currentStage}`;\r\n      }\r\n      \r\n    case 'WAITING_FOR_MOTOR_START': return 'Waiting for motor to start';\r\n    case 'ABORTED': return ' Process Aborted. Click Resume to continue';\r\n    default: return '';\r\n  }\r\n},\r\ngetRemainingReadyTime() {\r\n  \r\n  \r\n  return '10'; \r\n},\r\nasync loadBatchByNumber() {\r\n  console.log('loadBatchByNumber called with:', this.enteredBatchNumber);\r\n  const bn = (this.enteredBatchNumber || '').trim();\r\n  if (!bn) return;\r\n  try {\r\n    const response = await loadWorkorder({\r\n      batchNumber: bn,\r\n      batchType: this.batchType   \r\n    });\r\n    if (response && response.status === 'error') {\r\n      this.scanResult = { status: 'error', message: response.message || 'Failed to load batch' };\r\n      return;\r\n    }\r\n    if (response && response.workorder) {\r\n      // Clear frontend state\r\n      this.scannedItems = [];\r\n      this.prescanResults = {};\r\n      \r\n      // Set new workorder\r\n      this.workorder = response.workorder;\r\n      this.selectedBatch = { batch_number: bn, name: response.workorder.name || bn };\r\n      \r\n      // Update screen state\r\n      this.showBatchSelection = false;\r\n      this.showPrescanning = true;\r\n      this.prescanComplete = false;\r\n      \r\n      // Save batch number to localStorage\r\n      localStorage.setItem('lastBatchNumber', bn);\r\n      \r\n      //  FORCE STATUS UPDATE TO GET LATEST DATA\r\n      await this.updateStatus();\r\n      \r\n      this.$nextTick(() => { \r\n        if (this.$refs.barcodeInput) this.$refs.barcodeInput.focus(); \r\n      });\r\n    } else {\r\n      this.scanResult = { status: 'error', message: response.message || 'Failed to load workorder' };\r\n    }\r\n  } catch (err) {\r\n    console.error('Failed to load batch:', err);\r\n    this.scanResult = { status: 'error', message: 'Failed to load batch' };\r\n  }\r\n},\r\nasync completeAbortProcess() {\r\n  console.log('Complete Abort button clicked');\r\n  try {\r\n    const response = await completeAbortProcess();\r\n    console.log('Complete Abort API response:', response);\r\n    \r\n    if (response && response.status === 'success') {\r\n      console.log('Complete Abort successful, resetting frontend state');\r\n      // Reset frontend state\r\n      this.status = { \r\n        process_state: 'IDLE',\r\n        lid_open: true,\r\n        motor_running: false,\r\n        current_step_index: -1,\r\n        current_item_index: -1,\r\n        mixing_time_remaining: 0,\r\n        error_message: '',\r\n        workorder_id: null,\r\n        total_steps: 0\r\n      };\r\n      this.batchType = null;\r\n      localStorage.removeItem('lastBatchType');\r\n      localStorage.removeItem('lastBatchNumber');\r\n\r\n      this.showBatchSelection = true;\r\n      this.showPrescanning = false;\r\n      this.workorder = null;\r\n      this.enteredBatchNumber = '';\r\n      this.scannedItems = [];\r\n      \r\n      this.scanResult = { \r\n        status: 'success', \r\n        message: 'Process completely aborted and reset to IDLE' \r\n      };\r\n    } else {\r\n      console.log('Complete Abort failed:', response);\r\n      this.scanResult = { \r\n        status: 'error', \r\n        message: response?.message || 'Failed to completely abort' \r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.error('Complete Abort API call failed:', error);\r\n    this.scanResult = { \r\n      status: 'error', \r\n      message: 'Failed to completely abort process' \r\n    };\r\n  }\r\n},\r\ncloseEarlyScanningWrongItemPopup() {\r\n      this.showEarlyScanningWrongItemPopup = false;\r\n      this.earlyScanningWrongItemMessage = '';\r\n      this.barcode = '';\r\n      this.$nextTick(() => { \r\n        if (this.$refs.barcodeInput) this.$refs.barcodeInput.focus(); \r\n      });\r\n    },\r\n    getItemStatus(itemId) {\r\n  // strictly prescan status only\r\n  if (this.status.prescan_status && this.status.prescan_status.status_by_stage) {\r\n    for (let stage in this.status.prescan_status.status_by_stage) {\r\n      const item = this.status.prescan_status.status_by_stage[stage].items.find(i => i.item_id === itemId);\r\n      if (item) {\r\n        return item.prescan_status.toLowerCase(); // \"scanned\" / \"pending\"\r\n      }\r\n    }\r\n  }\r\n  return 'pending';\r\n},\r\n\r\n\r\n\r\n    getActualItemStatus(itemId, stepIndex) {\r\n  if (stepIndex < this.status.current_step_index) return 'done';\r\n  if (stepIndex > this.status.current_step_index) return 'waiting';\r\n\r\n  // Inside current step\r\n  if (this.status.scanned_items && this.status.scanned_items.includes(itemId)) {\r\n    return 'done';\r\n  }\r\n\r\n  // The next item expected\r\n  const currentItem = this.workorder.steps[this.status.current_step_index]\r\n    .items[this.status.current_item_index];\r\n  if (currentItem && currentItem.item_id === itemId) {\r\n    return 'in-progress';\r\n  }\r\n\r\n  return 'waiting';\r\n},\r\ngetItemStatus(itemId) {\r\n  if (this.status.process_state === 'PRESCANNING') {\r\n    if (this.status.prescan_status && this.status.prescan_status.status_by_stage) {\r\n      for (let stage in this.status.prescan_status.status_by_stage) {\r\n        const item = this.status.prescan_status.status_by_stage[stage].items.find(i => i.item_id === itemId);\r\n        if (item) {\r\n          // map \"scanned\"  \"done\"\r\n          if (item.prescan_status.toLowerCase() === 'scanned') {\r\n            return 'done';\r\n          }\r\n          return item.prescan_status.toLowerCase();\r\n        }\r\n      }\r\n    }\r\n    return 'pending';\r\n  }\r\n\r\n  // After prescan confirmed, everything should stay as \"done\"\r\n  if (this.status.prescan_complete || this.showPrescanCompletePopup === false) {\r\n    return 'done';\r\n  }\r\n\r\n  return 'pending';\r\n},\r\n\r\n   \r\n\r\n    async handlePrescan() {\r\n  if (!this.barcode.trim()) return;\r\n  try {\r\n    const result = await prescanItem(this.barcode.trim());\r\n    if (result && result.status === 'success') {\r\n      this.prescanResults[this.barcode.trim()] = 'done';\r\n      if (!this.scannedItems.includes(this.barcode.trim())) {\r\n        this.scannedItems.push(this.barcode.trim());\r\n      }\r\n      this.markPrescanCompleteIfDone();\r\n      this.scanResult = result;\r\n    } else if (result && result.status === 'error') {\r\n      // Check if it's a duplicate scan error\r\n      if (result.message && result.message.includes('already scanned')) {\r\n        // Show duplicate scan popup\r\n        this.duplicateScanMessage = result.message || 'This item has already been scanned.';\r\n        this.showDuplicateScanPopup = true;\r\n        this.scanResult = null;\r\n      } else {\r\n        // Show wrong item popup\r\n        this.wrongItemMessage = result.message || 'This item does not belong to the current workorder.';\r\n        this.showWrongItemPopup = true;\r\n        this.scanResult = null;\r\n      }\r\n    } else {\r\n      this.scanResult = result;\r\n    }\r\n    \r\n    this.barcode = '';\r\n    this.$nextTick(() => { if (this.$refs.barcodeInput) this.$refs.barcodeInput.focus(); });\r\n  } catch (error) {\r\n    console.error('Failed to prescan item:', error);\r\n    this.scanResult = { \r\n      status: 'error', \r\n      message: 'Scan failed: ' + (error.response?.data?.error || error.message) \r\n    };\r\n  }\r\n},\r\n// Keep cancelBatchSelection method for batch selection screen\r\n    cancelBatchSelection() {\r\n      console.log(\"Cancel batch selection clicked\");\r\n      \r\n      // Reset frontend state only (no API call needed)\r\n      this.batchType = null;\r\n      this.enteredBatchNumber = '';\r\n      this.selectedBatch = null;\r\n      this.workorder = null;\r\n      this.scannedItems = [];\r\n      \r\n      // Remove localStorage\r\n      localStorage.removeItem('lastBatchType');\r\n      localStorage.removeItem('lastBatchNumber');\r\n      \r\n      // Show first screen (batch type selection)\r\n      this.showBatchSelection = false;\r\n      \r\n      console.log(\"Batch selection cancelled - back to batch type selection\");\r\n    },\r\nasync cancelProcess() {\r\n  try {\r\n    console.log(\"Cancel button clicked\");\r\n    const response = await cancelProcess(); // API call\r\n\r\n    if (response.status === 'success' && response.data.process_state === 'IDLE') {\r\n      // Reset full UI to initial state\r\n      this.status = response.data;\r\n      this.workorder = null;\r\n      this.batchType = null;\r\n      this.enteredBatchNumber = '';\r\n      this.scannedItems = [];\r\n      this.scanResult = { status: 'success', message: 'Prescan cancelled successfully. System reset to IDLE.' };\r\n\r\n      // Hide prescan panel, show batch selection\r\n      this.showPrescanning = false;\r\n      this.showBatchSelection = true;\r\n\r\n      // Remove localStorage memory of last batch\r\n      localStorage.removeItem('lastBatchType');\r\n      localStorage.removeItem('lastBatchNumber');\r\n\r\n      console.log(\"UI reset after cancel: back to batch selection\");\r\n    } else {\r\n      this.scanResult = { status: 'error', message: response.message || 'Cancel failed' };\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Cancel API error:\", error);\r\n    this.scanResult = { status: 'error', message: 'Cancel action failed' };\r\n  }\r\n},\r\n\r\n\r\n    initiateAutoTransition() {\r\n      this.barcode = '';\r\n      this.scanResult = { status: 'success', message: 'Pre-scanning complete! Transitioning to mixing process...' };\r\n      this.autoTransitionTimeout = setTimeout(() => {\r\n        this.confirmPrescan();\r\n      }, 2000);\r\n    },\r\n\r\n    markPrescanCompleteIfDone() {\r\n  if (this.scannedItemsCount === this.totalItemsCount) {\r\n    // Show popup\r\n    this.showPrescanCompletePopup = true;\r\n\r\n   \r\n\r\n    this.barcode = \"\";\r\n  }\r\n},\r\ncloseWrongStagePopup() {\r\n    this.showWrongStagePopup = false;\r\n    this.wrongStageMessage = '';\r\n    this.barcode = '';\r\n    this.$nextTick(() => { \r\n      if (this.$refs.barcodeInput) this.$refs.barcodeInput.focus(); \r\n    });\r\n  },\r\n  closeDuplicateScanPopup() {\r\n  this.showDuplicateScanPopup = false;\r\n  this.duplicateScanMessage = '';\r\n  this.barcode = '';\r\n  this.$nextTick(() => { \r\n    if (this.$refs.barcodeInput) this.$refs.barcodeInput.focus(); \r\n  });\r\n},\r\n\r\n    startMixing(seconds) {\r\n      this.mixing = true;\r\n      this.mixingTimer = seconds;\r\n      this.mixingProgress = 0;\r\n\r\n      this.mixingInterval = setInterval(() => {\r\n        this.mixingTimer--;\r\n        this.mixingProgress = Math.floor(((seconds - this.mixingTimer) / seconds) * 100);\r\n\r\n        if (this.mixingTimer <= 0) {\r\n          clearInterval(this.mixingInterval);\r\n          this.mixing = false;\r\n          this.actualScanning = true;\r\n          this.nextStep();\r\n        }\r\n      }, 1000);\r\n    },\r\n\r\n    nextStep() {\r\n      this.currentStepIndex++;\r\n      this.barcode = \"\";\r\n    },\r\n\r\n    async confirmPrescan() {\r\n  try {\r\n    const response = await confirmPrescanAPI();\r\n    if (response && response.status === 'success') {\r\n      \r\n      this.showPrescanCompletePopup = false;\r\n\r\n      // force prescan column to \"done\"\r\n      this.status.prescan_complete = true;\r\n\r\n      this.barcode = '';\r\n\r\n      \r\n      let attempts = 0;\r\n      while (attempts < 15) {\r\n        await this.updateStatus();\r\n        if (this.status.process_state === 'WAITING_FOR_ITEMS') {\r\n          this.scanResult = {\r\n            status: 'success',\r\n            message: 'Prescanning completed. Scan the items for the stage 1 mixing process'\r\n          };\r\n          break;\r\n        }\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n        attempts++;\r\n      }\r\n    } else {\r\n      const msg = (response && response.message) || 'Failed to confirm pre-scan';\r\n      this.scanResult = { status: 'error', message: msg };\r\n    }\r\n  } catch (err) {\r\n    console.error('Failed to confirm pre-scan:', err);\r\n    this.scanResult = { status: 'error', message: 'Failed to confirm pre-scan' };\r\n  }\r\n},\r\n\r\n    formatTime(seconds) {\r\n      const mins = Math.floor(seconds / 60)\r\n      const secs = seconds % 60\r\n      return `${mins}:${secs.toString().padStart(2, '0')}`\r\n    },\r\n\r\n    formatMixTime(seconds) {\r\n      if (!seconds && seconds !== 0) return '';\r\n      const mins = Math.floor(seconds / 60);\r\n      const secs = seconds % 60;\r\n      if (mins > 0) {\r\n        return `${mins}m ${secs}s`;\r\n      }\r\n      return `${secs}s`;\r\n    },\r\n\r\n    async loadWorkorders() {\r\n      try {\r\n        const response = await getWorkorders()\r\n        this.workorders = response.workorders || response\r\n        console.log('Loaded workorders:', this.workorders)\r\n      } catch (error) {\r\n        console.error('Failed to load workorders:', error)\r\n      }\r\n    },\r\n\r\n    updateUIState() {\r\n      switch (this.status.process_state) {\r\n        case 'MIXING':\r\n          this.$nextTick(() => console.log('Mixing state active'));\r\n          break;\r\n        case 'WAITING_FOR_ITEMS':\r\n          this.$nextTick(() => {\r\n            if (this.$refs.actualBarcodeInput) this.$refs.actualBarcodeInput.focus();\r\n            console.log('Waiting for items, focusing scanner');\r\n          });\r\n          break;\r\n        case 'PRESCANNING':\r\n          this.showPrescanning = true;\r\n          this.updatePrescanProgress();\r\n          this.$nextTick(() => { if (this.$refs.barcodeInput) this.$refs.barcodeInput.focus(); });\r\n          break;\r\n        default:\r\n          //this.showPrescanning = false;\r\n      }\r\n    },\r\n\r\n    async checkAndTriggerTransitions() {\r\n      try {\r\n        if (this.status.process_state === 'WAITING_FOR_LID_CLOSE' ||\r\n            this.status.process_state === 'WAITING_FOR_MOTOR_START') {\r\n          const result = await checkTransitions()\r\n          if (result && result.status === 'success') {\r\n            await this.updateStatus()\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Transition check failed:', error)\r\n      }\r\n    },\r\n\r\n    async updateStatus() {\r\n  try {\r\n    const newStatus = await getStatus()\r\n    this.status = newStatus\r\n    \r\n    if (newStatus.process_state === 'PRESCAN_COMPLETE' && !this.showPrescanCompletePopup) {\r\n      this.showPrescanCompletePopup = true;\r\n    }\r\n\r\n    if (newStatus.process_state === 'WAITING_FOR_ITEMS') {\r\n      this.$nextTick(() => { \r\n        if (this.$refs.barcodeInput) this.$refs.barcodeInput.focus(); \r\n      });\r\n    }\r\n\r\n    if (this.showPrescanning && newStatus.process_state === 'WAITING_FOR_ITEMS') {\r\n      this.showPrescanning = true;\r\n    }\r\n\r\n    // FIX: Add safety check to prevent premature completion detection\r\n    if (newStatus.just_completed || newStatus.process_state === 'PROCESS_COMPLETE') {\r\n      // Only show save popup if we're actually on the last step\r\n      const isLastStep = newStatus.current_step_index >= newStatus.total_steps - 1;\r\n      const allStepsDone = newStatus.steps && newStatus.steps.every(step => \r\n        step.items.every(item => item.live_status === 'DONE')\r\n      );\r\n      \r\n      if (!this.showSavePopup && !this.showCompletionPopup && isLastStep && allStepsDone) {\r\n        console.log(\"Process complete detected -> showing SAVE popup first\");\r\n        this.showSavePopup = true;\r\n      }\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('Failed to update status:', error)\r\n    this.status = {\r\n      ...this.status,\r\n      error_message: 'Failed to update status'\r\n    }\r\n  }\r\n},\r\nshouldBlink(stepIndex) {\r\n    return stepIndex === this.blinkingStageIndex;\r\n  },\r\n\r\n   getStepStatus(stepIndex) {\r\n  // During PRESCANNING  keep using backend prescan_status\r\n  if (this.status.process_state === 'PRESCANNING') {\r\n    if (this.status.prescan_status && this.status.prescan_status.status_by_stage) {\r\n      const stage = this.status.prescan_status.status_by_stage[stepIndex + 1];\r\n      if (stage && stage.live_status) {\r\n        return stage.live_status.toLowerCase();\r\n      }\r\n    }\r\n    return 'waiting';\r\n  }\r\n\r\n  // After prescan  drive from actual scanning/mixing state\r\n  if (this.status.process_state === 'WAITING_FOR_ITEMS') {\r\n    if (stepIndex < this.status.current_step_index) {\r\n      return 'done'; // already completed step\r\n    }\r\n    if (stepIndex === this.status.current_step_index) {\r\n      return 'in-progress'; // current step waiting for items\r\n    }\r\n    return 'waiting'; // future steps\r\n  }\r\n\r\n  if (this.status.process_state === 'MIXING') {\r\n    if (stepIndex === this.status.current_step_index) {\r\n      return 'mixing';\r\n    }\r\n    if (stepIndex < this.status.current_step_index) {\r\n      return 'done';\r\n    }\r\n    return 'waiting';\r\n  }\r\n\r\n  if (this.status.process_state === 'PROCESS_COMPLETE') {\r\n    return 'done';\r\n  }\r\n\r\n  return 'waiting';\r\n},\r\n// Check if a specific step has items in READY_TO_LOAD state\r\nisStepReadyToLoad(stepIndex) {\r\n  if (stepIndex < 0 || stepIndex >= this.status.steps.length || !this.status.steps) return false;\r\n  \r\n  const step = this.status.steps[stepIndex];\r\n  if (!step || !step.items || step.items.length === 0) return false;\r\n  \r\n  // Check if all items in the step are READY_TO_LOAD\r\n  return step.items.every(item => item.live_status === 'READY_TO_LOAD');\r\n},\r\n\r\n\r\n    startPolling() {\r\n      this.statusInterval = setInterval(this.updateStatus, 1000)\r\n      this.transitionInterval = setInterval(this.checkAndTriggerTransitions, 2000)\r\n    },\r\n\r\n    stopPolling() {\r\n      if (this.statusInterval) { clearInterval(this.statusInterval); this.statusInterval = null; }\r\n      if (this.transitionInterval) { clearInterval(this.transitionInterval); this.transitionInterval = null; }\r\n    },\r\n\r\n    async handleScan() {\r\n  if (!this.barcode.trim()) return;\r\n  console.log(\"Sending scan:\", this.barcode.trim());\r\n\r\n  try {\r\n    const result = await scanItem(this.barcode.trim());\r\n\r\n    if (result.error) {\r\n      this.scanResult = { status: 'error', message: 'Scan failed: ' + result.error };\r\n    } else if (result.status === 'fail') {\r\n      // Show wrong stage popup\r\n      if (\r\n          result.message && \r\n          (result.message.includes('does not belong to this stage') || \r\n          result.message.includes('does not belong to this or next step'))\r\n        ) {\r\n          // Check if this is early scanning (mixing state)\r\n          if (this.status.process_state === 'MIXING') {\r\n            const nextStageNumber = this.status.current_step_index + 2;\r\n            this.earlyScanningWrongItemMessage = `This item does not belong to Stage ${nextStageNumber}. Please scan the correct item for the next stage.`;\r\n            this.showEarlyScanningWrongItemPopup = true;\r\n          } else {\r\n            this.wrongStageMessage = \"Item does not belong to this stage\";\r\n            this.showWrongStagePopup = true;\r\n          }\r\n          this.scanResult = null;\r\n          this.barcode = '';\r\n        } else {\r\n          this.scanResult = { status: 'error', message: result.message };\r\n        }\r\n      }else {\r\n      // Success case\r\n      const stepIndex = this.status.current_step_index;\r\n      const isMixing = this.status.process_state === 'MIXING';\r\n\r\n      let allowedStepIndexes = isMixing ? [stepIndex + 1] : [stepIndex];\r\n\r\n      const allowedItems = allowedStepIndexes.flatMap(\r\n        idx => this.workorder.steps[idx]?.items.map(i => i.item_id) || []\r\n      );\r\n\r\n      // Check if scanned item belongs to allowed items\r\n      if (!allowedItems.includes(this.barcode.trim())) {\r\n        // Check if this is early scanning (mixing state)\r\n        if (isMixing) {\r\n          const nextStageNumber = this.status.current_step_index + 2;\r\n          this.earlyScanningWrongItemMessage = `Invalid item for Stage ${nextStageNumber}`;\r\n          this.showEarlyScanningWrongItemPopup = true;\r\n        } else {\r\n          this.wrongStageMessage = 'Invalid item for this stage';\r\n          this.showWrongStagePopup = true;\r\n        }\r\n        this.scanResult = null;\r\n        this.barcode = '';\r\n        return;\r\n      }\r\n\r\n      // Success\r\n      this.scanResult = result;\r\n      if (result.status === 'success') {\r\n        this.barcode = '';\r\n        this.$nextTick(() => {\r\n          if (this.$refs.barcodeInput) this.$refs.barcodeInput.focus();\r\n        });\r\n        await this.updateStatus();\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to scan item:', error);\r\n    this.scanResult = {\r\n      status: 'error',\r\n      message: 'Scan failed: ' + (error.response?.data?.error || error.message)\r\n    };\r\n  }\r\n},\r\n    async abortProcess() {\r\n    this.showAbortConfirmationPopup = true;\r\n  },\r\n\r\n  // Add new methods for confirmation handling\r\n  async confirmAbort() {\r\n    try {\r\n      this.showAbortConfirmationPopup = false;\r\n      // Call the actual abort API\r\n      await abortProcess();\r\n      this.scanResult = { \r\n        status: 'success', \r\n        message: 'Process aborted successfully' \r\n      };\r\n    } catch (error) {\r\n      console.error('Failed to abort process:', error);\r\n      this.scanResult = { \r\n        status: 'error', \r\n        message: 'Failed to abort process' \r\n      };\r\n    }\r\n  },\r\n\r\n  cancelAbort() {\r\n    this.showAbortConfirmationPopup = false;\r\n    this.scanResult = { \r\n      status: 'info', \r\n      message: 'Abort cancelled - process continues' \r\n    };\r\n  },\r\n\r\n    async resumeProcess() {\r\n      try {\r\n        await resumeProcess()\r\n      } catch (error) {\r\n        console.error('Failed to resume process:', error)\r\n      }\r\n    },\r\n    async handleSaveWorkorder() {\r\n  try {\r\n    const response = await saveWorkorder();\r\n    if (response.status === 'success') {\r\n      console.log('Workorder saved successfully:', response.message);\r\n      this.scanResult = { status: 'success', message: 'Workorder saved successfully!' };\r\n      this.showSavePopup = false;\r\n      this.showCompletionPopup = true;\r\n    } else {\r\n      console.warn('Failed to save workorder:', response.message);\r\n      this.scanResult = { status: 'error', message: response.message || 'Failed to save workorder' };\r\n      // Don't proceed to completion popup if save failed\r\n    }\r\n  } catch (err) {\r\n    console.error('Save workorder API failed:', err);\r\n    this.scanResult = { status: 'error', message: 'Error saving workorder' };\r\n  }\r\n},\r\n\r\n\r\n\r\n    \r\n    confirmProcessComplete() {\r\n  this.showProcessCompletePopup = false;\r\n  this.status.process_state = 'IDLE';\r\n  this.showBatchSelection = true;\r\n  this.showPrescanning = false;\r\n  this.workorder = null;\r\n  this.enteredBatchNumber = '';\r\n},\r\n\r\n\r\n    pollStatus() {\r\n      this.interval = setInterval(() => {\r\n        getStatus().then(data => {\r\n          console.log('Polled status:', data);\r\n          this.status = data;\r\n          this.updateUIState();\r\n        }).catch(error => console.error('Polling error:', error));\r\n      }, 1000);\r\n    },\r\n\r\n   async handleCompletionOk() {\r\n  try {\r\n    const response = await confirmCompletion()\r\n    if (response.status === 'success') {\r\n      this.showCompletionPopup = false\r\n      this.status = { process_state: 'IDLE' }\r\n      this.batchType = null\r\n      localStorage.removeItem('lastBatchType');\r\n      localStorage.removeItem('lastBatchNumber');\r\n      this.showBatchSelection = true\r\n      this.showPrescanning = false\r\n      this.workorder = null\r\n      this.enteredBatchNumber = ''\r\n    } else {\r\n      console.error(\"Completion confirm failed:\", response.message)\r\n    }\r\n  } catch (err) {\r\n    console.error('Failed to reset process after completion:', err)\r\n  }\r\n}\r\n\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-screen {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100vh;\r\n  gap: 10px;\r\n}\r\n.login-screen input {\r\n  padding: 8px;\r\n  width: 220px;\r\n  font-size: 1rem;\r\n}\r\n.login-screen button {\r\n  padding: 8px 12px;\r\n  font-size: 1rem;\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* Add styles for the automatic transition message */\r\n.batch-option {\r\n  border: 2px solid #007bff;\r\n  border-radius: 8px;\r\n  padding: 2rem;\r\n  cursor: pointer;\r\n  font-size: 1.2rem;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  width: 180px;\r\n  transition: 0.2s;\r\n}\r\n.batch-option:hover {\r\n  background-color: #007bff;\r\n  color: white;\r\n  transform: translateY(-3px);\r\n}\r\n\r\n.auto-transition-message {\r\n  margin-top: 1rem;\r\n  padding: 1rem;\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n  border-radius: 4px;\r\n  text-align: center;\r\n}\r\n.prescan-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 1rem;\r\n  text-align: center;\r\n  border: 2px solid #333; \r\n}\r\n\r\n.prescan-table th,\r\n.prescan-table td {\r\n  border: 2px solid #333;\r\n  padding: 10px;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.prescan-table th {\r\n  background-color: #f0f0f0; \r\n  font-weight: bold;\r\n  color: #333; \r\n}\r\n\r\n.prescan-table td {\r\n  background-color: #fff;\r\n}\r\n\r\n.prescan-table tr:nth-child(even) td {\r\n   background-color: #f8f8f8;\r\n}\r\n\r\n.batch-panel { background-color: white; border-radius: 8px; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 1rem;border: 2px solid #333; /* Add darker border */ }\r\n.batch-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem; }\r\n.batch-item { border: 1px solid #ddd; border-radius: 4px; padding: 1rem; cursor: pointer; transition: background-color 0.2s; }\r\n.batch-item:hover { background-color: #f5f5f5; transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }\r\n.batch-name { font-weight: bold; margin-bottom: 0.5rem; }\r\n.batch-number { color: #666; font-size: 0.9rem; }\r\n.prescan-panel { background-color: white; border-radius: 8px; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 1rem;border: 2px solid #333; /* Add darker border */\r\n} \r\n.progress { height: 20px; background-color: #f5f5f5; border-radius: 4px; margin-bottom: 1rem; position: relative; }\r\n.progress-bar { height: 100%; background-color: #28a745; border-radius: 4px; transition: width 0.3s; }\r\n.progress-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #333; font-weight: bold; }\r\n.items-list { margin-bottom: 1.5rem; }\r\n.items-list h3 { margin-top: 1rem; margin-bottom: 0.5rem; }\r\n.item { display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; border-bottom: 1px solid #eee; }\r\n.item.scanned { background-color: #d4edda; }\r\n.item.pending { background-color: #fff3cd; }\r\n.item-name { font-weight: bold; }\r\n.item-id { color: #666; font-size: 0.9rem; }\r\n.status-indicator { font-weight: bold; }\r\n.status-indicator.scanned { color: #28a745; }\r\n.status-indicator.pending { color: #ffc107; }\r\n.confirmation-dialog { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.5); display:flex; justify-content:center; align-items:center; z-index:1000; }\r\n.dialog-content { background-color: white; padding: 2rem; border-radius: 8px; text-align:center; max-width: 400px; width: 100%; }\r\n.dashboard { display:flex; flex-direction:column; gap:1rem; max-width:600px; margin:0 auto; padding:1rem; }\r\n.status-panel { background-color: white; border-radius:8px; padding:1rem; box-shadow:0 2px 4px rgba(0,0,0,0.1);border: 2px solid #333; /* Add darker border */ }\r\n.status-info { display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:1rem; margin-bottom:1rem; }\r\n.status-item { display:flex; flex-direction:column; }\r\n.label { font-weight:bold; margin-bottom:0.25rem; color:#666; }\r\n.value { font-size:1.1rem; }\r\n.open { color:#dc3545; }\r\n.closed { color:#28a745; }\r\n.running { color:#28a745; }\r\n.stopped { color:#6c757d; }\r\n.control-buttons { display:flex; gap:0.5rem; }\r\n.btn { padding:0.6rem 1.2rem; border:2px solid transparent; border-radius:6px; cursor:pointer; font-size:1rem;font-weight: 600;\r\n  transition: all 0.3s ease; }\r\n.btn-danger { background-color:#dc3545; color:white;border-color: #c82333; }\r\n.btn-warning { background-color:#ffc107; color:black; }\r\n.scanner-panel { background-color:white; border-radius:8px; padding:1.5rem; box-shadow:0 2px 4px rgba(0,0,0,0.1);border: 1px solid #ccc; /* Add darker border */ }\r\n.scanner-panel.centered { text-align:center; }\r\n.scanner-input { margin-bottom:1rem; }\r\n.scanner-input input { width:100%; padding:0.75rem; border:2px solid #ddd; border-radius:4px; font-size:1.1rem; text-align:center; }\r\n.scanner-input input:focus { border-color:#007bff; outline:none; }\r\n.scanner-input input:disabled { background-color:#f5f5f5; cursor:not-allowed; }\r\n.scan-result { padding:0.75rem; border-radius:4px; text-align:center; font-weight:bold; margin-bottom:1rem; }\r\n.scan-result.success { background-color:#d4edda; color:#155724; border:1px solid #c3e6cb; }\r\n.scan-result.fail { background-color:#f8d7da; color:#721c24; border:1px solid #f5c6cb; }\r\n.scan-result.error { background-color:#fff3cd; color:#856404; border:1px solid #ffeeba; }\r\n.idle-message, .waiting-message { margin-top:1rem; color:#6c757d; font-style:italic; text-align:center; }\r\n.debug-info { background-color:#f8f9fa; border:1px solid #dee2e6; border-radius:4px; padding:1rem; margin-top:1rem; }\r\n.debug-info h3 { margin-top:0; color:#6c757d; }\r\n.confirmation-dialog {\r\n  position: fixed;\r\n  top: 0; left: 0; right: 0; bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display:flex;\r\n  justify-content:center;\r\n  align-items:center;\r\n  z-index:1000;\r\n}\r\n.completion-popup {\r\n  position: fixed;\r\n  top: 0; left: 0; right: 0; bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5); \r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.completion-popup .popup-content {\r\n  background: white;\r\n  padding: 2rem;\r\n  border-radius: 10px;\r\n  text-align: center;\r\n  max-width: 400px;\r\n  width: 100%;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.3);\r\n  border: 2px solid #333;\r\n}\r\n/* Abort confirmation specific styling */\r\n.confirmation-dialog .dialog-content {\r\n  background: white;\r\n  padding: 2rem;\r\n  border-radius: 10px;\r\n  text-align: center;\r\n  max-width: 400px;\r\n  width: 100%;\r\n  box-shadow: 0 4px 20px rgba(0,0,0,0.3);\r\n  border: 2px solid #dc3545; \r\n}\r\n\r\n.confirmation-dialog h3 {\r\n  color: #dc3545;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.confirmation-dialog p {\r\n  margin-bottom: 1.5rem;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.confirmation-dialog .btn-danger {\r\n  background-color: #dc3545;\r\n  border-color: #c82333;\r\n  padding: 0.6rem 1.5rem;\r\n}\r\n\r\n.confirmation-dialog .btn-primary {\r\n  background-color: #007bff;\r\n  border-color: #0069d9;\r\n  padding: 0.6rem 1.5rem;\r\n}\r\n\r\n\r\n.status-line {\r\n  margin-top: 1rem;\r\n  padding: 0.75rem 1rem;\r\n  text-align: center;\r\n  background-color:#e8f5e8;    /* light green */\r\n  color: #155724;              /* dark green text */\r\n  border: 2px solid #28a745;   /* green border */\r\n  border-radius: 6px;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n}\r\n\r\n/* Blinking highlight styles - FIXED VERSION */\r\n.blinking-highlight {\r\n  animation: blinking 1s infinite;\r\n}\r\n\r\n@keyframes blinking {\r\n  0% { background-color: yellow; }\r\n  50% { background-color: #ffff99; } /* slightly lighter yellow */\r\n  100% { background-color: yellow; }\r\n}\r\n\r\n\r\n.prescan-table tr.blinking-highlight td {\r\n  animation: blinking 1s infinite !important;\r\n}\r\n\r\n.btn-debug { background-color:#6c757d; color:white; padding:0.25rem 0.5rem; border:none; border-radius:4px; font-size:0.8rem; margin-top:1rem; }\r\n/* Login Screen Styles */\r\n.batch-panel {\r\n  background-color: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  border: 2px solid #e5e7eb;\r\n}\r\n\r\n/* Make the login container more prominent */\r\n.min-h-screen {\r\n  min-height: 100vh;\r\n}\r\n\r\n/* Larger input fields */\r\n.batch-panel input {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n/* Blue button enhancements */\r\n.batch-panel button:not(:disabled):hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 12px rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.batch-panel button:active:not(:disabled) {\r\n  transform: translateY(0);\r\n}\r\n.btn-warning {\r\n  background-color: #ffc107;\r\n  color: black;\r\n  border: 2px solid #e0a800;\r\n}\r\n\r\n.btn-warning:hover {\r\n  background-color: #e0a800;\r\n  transform: translateY(-1px);\r\n}\r\n/* Login Screen Styles */\r\n.login-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: flex-start; /* Changed from center to flex-start */\r\n  min-height: 100vh;\r\n  background-color: #f8f9fa;\r\n  padding: 2rem;\r\n  padding-top: 4rem; /* Added top padding to move card down slightly from top */\r\n}\r\n\r\n.login-card {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  padding: 3rem;\r\n  max-width: 400px;\r\n  width: 100%;\r\n  border: 2px solid #060606;\r\n  /* Remove any margin that might be pushing it down */\r\n  margin: 0;\r\n}\r\n\r\n.login-header {\r\n  text-align: center;\r\n  margin-bottom: 2.5rem;\r\n}\r\n\r\n.login-title {\r\n  font-size: 1.8rem;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.login-subtitle {\r\n  color: #101111;\r\n  font-size: 1rem;\r\n  margin: 0;\r\n}\r\n\r\n.login-form {\r\n  space-y: 1.5rem;\r\n}\r\n\r\n.input-group {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.input-label {\r\n  display: block;\r\n  font-weight: 500;\r\n  color: #495057;\r\n  margin-bottom: 0.5rem;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.form-input {\r\n  width: 100%;\r\n  padding: 0.875rem 1rem;\r\n  border: 2px solid #e9ecef;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  transition: all 0.2s ease;\r\n  background: white;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.form-input:focus {\r\n  outline: none;\r\n  border-color: #007bff;\r\n  box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.1);\r\n}\r\n\r\n.form-input::placeholder {\r\n  color: #6c757d;\r\n}\r\n\r\n.button-container {\r\n  margin-top: 2rem;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.login-button {\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 0.875rem 2rem;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  min-width: 120px;\r\n}\r\n\r\n.login-button:hover:not(.login-button-disabled) {\r\n  background: #0056b3;\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.login-button:active:not(.login-button-disabled) {\r\n  transform: translateY(0);\r\n}\r\n\r\n.login-button-disabled {\r\n  background: #6c757d;\r\n  cursor: not-allowed;\r\n  transform: none;\r\n}\r\n\r\n.error-message {\r\n  background: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-top: 1.5rem;\r\n  text-align: center;\r\n}\r\n\r\n.error-text {\r\n  color: #721c24;\r\n  margin: 0;\r\n  font-weight: 500;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n/* Responsive Design */\r\n@media (max-width: 480px) {\r\n  .login-container {\r\n    padding: 1rem;\r\n    padding-top: 3rem; /* Slightly less top padding on mobile */\r\n  }\r\n  \r\n  .login-card {\r\n    padding: 2rem 1.5rem;\r\n  }\r\n  \r\n  .login-title {\r\n    font-size: 1.5rem;\r\n  }\r\n}\r\n/* Password Input Container */\r\n.password-input-container {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.password-input {\r\n  padding-right: 80px; /* Make space for the toggle button */\r\n}\r\n\r\n.password-toggle {\r\n  position: absolute;\r\n  right: 8px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  background: #f8f9fa;\r\n  border: 1px solid #dee2e6;\r\n  border-radius: 4px;\r\n  padding: 4px 8px;\r\n  font-size: 0.8rem;\r\n  color: #495057;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.password-toggle:hover {\r\n  background: #e9ecef;\r\n  border-color: #adb5bd;\r\n}\r\n\r\n.password-toggle:active {\r\n  background: #dee2e6;\r\n}\r\n\r\n.toggle-text {\r\n  font-weight: 500;\r\n  font-size: 0.8rem;\r\n}\r\n\r\n/* Ensure the password input doesn't get hidden behind the toggle */\r\n.form-input:focus {\r\n  padding-right: 80px; /* Maintain space when focused */\r\n}\r\n\r\n/* Responsive adjustments */\r\n@media (max-width: 480px) {\r\n  .password-input {\r\n    padding-right: 70px;\r\n  }\r\n  \r\n  .password-toggle {\r\n    padding: 4px 6px;\r\n    font-size: 0.75rem;\r\n  }\r\n  \r\n  .form-input:focus {\r\n    padding-right: 70px;\r\n  }\r\n}\r\n\r\n</style>","import axios from 'axios';\r\n\r\nconst API_BASE_URL = 'https://shera-undefensible-pseudoindependently.ngrok-free.dev';\r\n\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  withCredentials: true,\r\n  timeout: 10000,\r\n});\r\n\r\n// === Automatically attach JWT token ===\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n// === Handle token expiry ===\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response && error.response.status === 401) {\r\n      console.warn('Token expired or invalid  logging out');\r\n      localStorage.removeItem('token');\r\n      window.location.reload();\r\n    }\r\n    console.error('API Error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// === AUTH ===\r\nexport const login = async (username, password) => {\r\n  const res = await api.post('/api/login', {\r\n    usr: username,\r\n    pwd: password\r\n  })\r\n  return res.data\r\n}\r\n\r\nexport const getStatus = () => api.get('/api/status').then(r => r.data);\r\nexport const scanItem = (barcode) => api.post('/api/scan', { barcode }).then(r => r.data);\r\nexport const abortProcess = () => api.post('/api/abort').then(r => r.data);\r\nexport const resumeProcess = () => api.post('/api/resume').then(r => r.data);\r\n\r\nexport const completeAbortProcess = () =>\r\n  api.post('/api/complete_abort')\r\n    .then(r => r.data)\r\n    .catch(() => ({ status: 'error', message: 'API call failed' }));\r\n\r\nexport const cancelProcess = () =>\r\n  api.post('/api/cancel')\r\n    .then(r => r.data)\r\n    .catch(() => ({ status: 'error', message: 'Cancel API call failed' }));\r\n\r\nexport const resetProcess = () => api.post('/api/reset').then(r => r.data);\r\nexport const getWorkorders = () => api.get('/api/workorders').then(r => r.data);\r\nexport const checkTransitions = () => api.get('/api/check_transitions').then(r => r.data);\r\n\r\nexport const getBatches = (batchNumber = '') => {\r\n  const url = batchNumber ? `/api/batches/${batchNumber}` : '/batches';\r\n  return api.get(url).then(r => r.data);\r\n};\r\n\r\nexport const loadWorkorder = ({ workorder_name, type }) =>\r\n  api.post('/api/load_workorder', { workorder_name, type })\r\n\r\nexport const confirmCompletion = () =>\r\n  api.post('/api/confirm_completion')\r\n    .then(r => r.data)\r\n    .catch(() => ({ status: 'error', message: 'Failed to confirm completion' }));\r\n\r\nexport const prescanItem = (barcode) => api.post('/api/prescan', { barcode }).then(r => r.data);\r\n\r\nexport const saveWorkorder = () =>\r\n  api.post('/api/save_workorder')\r\n    .then(r => r.data)\r\n    .catch(() => ({ status: 'error', message: 'Failed to save workorder' }));\r\n\r\nexport const confirmPrescanAPI = () => api.post('/api/confirm_prescan').then(r => r.data);\r\n// === ERPNext Integration ===\r\nexport const getERPWorkorders = () =>\r\n  api.get('/api/erp/workorders').then(r => r.data);\r\n\r\nexport const getERPBOM = (bomName) =>\r\n  api.get(`/api/erp/bom/${bomName}`).then(r => r.data);\r\n\r\nexport const updateERPWorkorder = (workOrder, status = 'Completed', actualQty = 0) =>\r\n  api.post('/api/erp/update_workorder', { work_order: workOrder, status, actual_qty: actualQty })\r\n     .then(r => r.data);\r\n\r\nexport const createERPBatch = (batchId, item, manufacturingDate) =>\r\n  api.post('/api/erp/create_batch', { batch_id: batchId, item, manufacturing_date: manufacturingDate })\r\n     .then(r => r.data);\r\n\r\n\r\nexport default api;\r\n","import { render } from \"./Dashboard.vue?vue&type=template&id=5280ea5a&scoped=true\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=5280ea5a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5280ea5a\"]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from 'vue-router'\r\nimport Dashboard from '../views/Dashboard.vue'\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'Dashboard',\r\n    component: Dashboard\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(),\r\n  routes\r\n})\r\n\r\nexport default router\r\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\n\r\ncreateApp(App).use(router).mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/assets/kneader/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkkneader_ui\"] = self[\"webpackChunkkneader_ui\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(479)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","src","alt","name","__exports__","render","style","token","batchType","status","process_state","showCancelConfirmation","type","placeholder","loadBatchByNumber","ref","enteredBatchNumber","logout","selectBatchType","confirmCancelBatchSelection","cancelCancelBatchSelection","workorder","steps","selectedBatch","showCancelProcessConfirmation","disabled","isCancelDisabled","confirmCancelProcess","cancelCancelProcess","getStatusMessage","step","stepIndex","step_id","isNextStep","rowspan","items","length","item_id","current_step_index","formatMixTime","mix_time_sec","mixing_time_remaining","getItemStatus","toUpperCase","fontWeight","live_status","slice","item","key","handlePrescan","barcode","handleScan","includes","abortProcess","resumeProcess","completeAbortProcess","wrongStageMessage","closeWrongStagePopup","earlyScanningWrongItemMessage","closeEarlyScanningWrongItemPopup","duplicateScanMessage","closeDuplicateScanPopup","confirmPrescan","wrongItemMessage","closeWrongItemPopup","confirmAbort","cancelAbort","handleSaveWorkorder","handleCompletionOk","for","login","username","showPassword","password","error","API_BASE_URL","api","axios","create","baseURL","withCredentials","timeout","interceptors","request","use","config","localStorage","getItem","headers","Authorization","Promise","reject","response","console","warn","removeItem","window","location","reload","async","res","post","usr","pwd","data","getStatus","get","then","r","scanItem","catch","message","cancelProcess","getWorkorders","checkTransitions","getBatches","batchNumber","url","loadWorkorder","workorder_name","confirmCompletion","prescanItem","saveWorkorder","confirmPrescanAPI","showLogin","kneaderStatus","showSavePopup","showEarlyScanningWrongItemPopup","showAbortConfirmationPopup","showPrescanCompletePopup","showCompletionPopup","showWrongItemPopup","showWrongStagePopup","showConfirmPopup","batches","showBatchSelection","showPrescanning","prescanResults","showDuplicateScanPopup","prescanComplete","actualScanning","mixing","mixingTimer","mixingInterval","scannedItems","lid_open","motor_running","current_item_index","error_message","workorder_id","total_steps","workorders","currentWorkorder","scanResult","debugMode","statusInterval","transitionInterval","showingCompletion","autoTransitionTimeout","computed","scannedItemsCount","this","currentStepItems","showCancelButton","showStates","disabledStates","totalItemsCount","reduce","total","prescanProgress","Math","round","canScan","blinkingStageIndex","mounted","log","savedType","savedBatch","statusResp","workorder_type","err","loadBatches","loadWorkorders","startPolling","$nextTick","$refs","batchInput","focus","barcodeInput","beforeUnmount","clearTimeout","stopPolling","watch","newState","setTimeout","newVal","trim","setItem","initiateAutoTransition","methods","updateStatus","showCancelConfirmationPopup","isStepFullyScanned","every","currentStage","nextStage","isStepReadyToLoad","getRemainingReadyTime","bn","batch_number","itemId","prescan_status","status_by_stage","stage","find","i","toLowerCase","getActualItemStatus","scanned_items","currentItem","prescan_complete","result","push","markPrescanCompleteIfDone","cancelBatchSelection","startMixing","seconds","mixingProgress","setInterval","floor","clearInterval","nextStep","currentStepIndex","attempts","resolve","msg","formatTime","mins","secs","toString","padStart","updateUIState","actualBarcodeInput","updatePrescanProgress","checkAndTriggerTransitions","newStatus","just_completed","isLastStep","allStepsDone","shouldBlink","getStepStatus","nextStageNumber","isMixing","allowedStepIndexes","allowedItems","flatMap","idx","map","confirmProcessComplete","showProcessCompletePopup","pollStatus","interval","routes","path","component","Dashboard","router","history","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","splice","d","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}